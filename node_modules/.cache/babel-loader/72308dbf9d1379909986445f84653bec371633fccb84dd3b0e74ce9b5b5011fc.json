{"ast":null,"code":"import React,{useState,useEffect}from'react';import ReactionSelector from'../ReactionSelector/ReactionSelector';import'./MemberCard.scss';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const emojiMap={1:'üëç',2:'üëè',3:'‚ù§Ô∏è',4:'üéâ'};const MemberCard=_ref=>{let{member,onVoteComplete}=_ref;const[reaction,setReaction]=useState(null);const[ifVoted,setIfVoted]=useState(false);useEffect(()=>{const savedReaction=localStorage.getItem(\"reaction-\".concat(member.id));const savedVotedStatus=localStorage.getItem(\"voted-\".concat(member.id));if(savedReaction)setReaction(savedReaction);if(savedVotedStatus==='true')setIfVoted(true);},[member.id]);const handleReactionSelect=emoji=>{if(!ifVoted){setReaction(emoji);localStorage.setItem(\"reaction-\".concat(member.id),emoji);}};const handleConfirmClick=()=>{if(reaction){onVoteComplete(member.id,reaction);// –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∑–∞–ø—Ä–æ—Å\nsetIfVoted(true);localStorage.setItem(\"voted-\".concat(member.id),'true');// –ó–∞–ø–æ–º–∏–Ω–∞–µ–º, —á—Ç–æ –≥–æ–ª–æ—Å —É—á—Ç–µ–Ω\n}else{alert('–í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–∞–∫—Ü–∏—é –ø–µ—Ä–µ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º!');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"member-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:member.member_name}),/*#__PURE__*/_jsx(\"p\",{children:member.speech_theme}),!ifVoted&&/*#__PURE__*/_jsx(ReactionSelector,{selected:reaction,onSelect:handleReactionSelect}),ifVoted&&/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u0412\\u0430\\u0448\\u0430 \\u0440\\u0435\\u0430\\u043A\\u0446\\u0438\\u044F: \",emojiMap[reaction]]}),!ifVoted&&/*#__PURE__*/_jsx(\"button\",{className:\"confirm-button\",onClick:handleConfirmClick,disabled:!reaction,children:\"\\u041F\\u043E\\u0434\\u0442\\u0432\\u0435\\u0440\\u0434\\u0438\\u0442\\u044C\"})]});};export default MemberCard;","map":{"version":3,"names":["React","useState","useEffect","ReactionSelector","jsx","_jsx","jsxs","_jsxs","emojiMap","MemberCard","_ref","member","onVoteComplete","reaction","setReaction","ifVoted","setIfVoted","savedReaction","localStorage","getItem","concat","id","savedVotedStatus","handleReactionSelect","emoji","setItem","handleConfirmClick","alert","className","children","member_name","speech_theme","selected","onSelect","onClick","disabled"],"sources":["C:/Roma/repositories/konf_votes/src/components/MemberCard/MemberCard.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport ReactionSelector from '../ReactionSelector/ReactionSelector';\r\nimport './MemberCard.scss';\r\n\r\nconst emojiMap = {\r\n  1: 'üëç',\r\n  2: 'üëè',\r\n  3: '‚ù§Ô∏è',\r\n  4: 'üéâ',\r\n};\r\n\r\nconst MemberCard = ({ member, onVoteComplete }) => {\r\n  const [reaction, setReaction] = useState(null);\r\n  const [ifVoted, setIfVoted] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const savedReaction = localStorage.getItem(`reaction-${member.id}`);\r\n    const savedVotedStatus = localStorage.getItem(`voted-${member.id}`);\r\n\r\n    if (savedReaction) setReaction(savedReaction);\r\n    if (savedVotedStatus === 'true') setIfVoted(true);\r\n  }, [member.id]);\r\n\r\n  const handleReactionSelect = (emoji) => {\r\n    if (!ifVoted) {\r\n      setReaction(emoji);\r\n      localStorage.setItem(`reaction-${member.id}`, emoji);\r\n    }\r\n  };\r\n\r\n  const handleConfirmClick = () => {\r\n    if (reaction) {\r\n      onVoteComplete(member.id, reaction); // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∑–∞–ø—Ä–æ—Å\r\n      setIfVoted(true);\r\n      localStorage.setItem(`voted-${member.id}`, 'true'); // –ó–∞–ø–æ–º–∏–Ω–∞–µ–º, —á—Ç–æ –≥–æ–ª–æ—Å —É—á—Ç–µ–Ω\r\n    } else {\r\n      alert('–í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–∞–∫—Ü–∏—é –ø–µ—Ä–µ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º!');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"member-card\">\r\n      <h3>{member.member_name}</h3>\r\n      <p>{member.speech_theme}</p>\r\n  \r\n      {!ifVoted && <ReactionSelector selected={reaction} onSelect={handleReactionSelect} />}\r\n      {ifVoted && <p>–í–∞—à–∞ —Ä–µ–∞–∫—Ü–∏—è: {emojiMap[reaction]}</p>}\r\n  \r\n      {!ifVoted && (\r\n        <button className=\"confirm-button\" onClick={handleConfirmClick} disabled={!reaction}>\r\n          –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å\r\n        </button>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MemberCard;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,gBAAgB,KAAM,sCAAsC,CACnE,MAAO,mBAAmB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE3B,KAAM,CAAAC,QAAQ,CAAG,CACf,CAAC,CAAE,IAAI,CACP,CAAC,CAAE,IAAI,CACP,CAAC,CAAE,IAAI,CACP,CAAC,CAAE,IACL,CAAC,CAED,KAAM,CAAAC,UAAU,CAAGC,IAAA,EAAgC,IAA/B,CAAEC,MAAM,CAAEC,cAAe,CAAC,CAAAF,IAAA,CAC5C,KAAM,CAACG,QAAQ,CAAEC,WAAW,CAAC,CAAGb,QAAQ,CAAC,IAAI,CAAC,CAC9C,KAAM,CAACc,OAAO,CAAEC,UAAU,CAAC,CAAGf,QAAQ,CAAC,KAAK,CAAC,CAE7CC,SAAS,CAAC,IAAM,CACd,KAAM,CAAAe,aAAa,CAAGC,YAAY,CAACC,OAAO,aAAAC,MAAA,CAAaT,MAAM,CAACU,EAAE,CAAE,CAAC,CACnE,KAAM,CAAAC,gBAAgB,CAAGJ,YAAY,CAACC,OAAO,UAAAC,MAAA,CAAUT,MAAM,CAACU,EAAE,CAAE,CAAC,CAEnE,GAAIJ,aAAa,CAAEH,WAAW,CAACG,aAAa,CAAC,CAC7C,GAAIK,gBAAgB,GAAK,MAAM,CAAEN,UAAU,CAAC,IAAI,CAAC,CACnD,CAAC,CAAE,CAACL,MAAM,CAACU,EAAE,CAAC,CAAC,CAEf,KAAM,CAAAE,oBAAoB,CAAIC,KAAK,EAAK,CACtC,GAAI,CAACT,OAAO,CAAE,CACZD,WAAW,CAACU,KAAK,CAAC,CAClBN,YAAY,CAACO,OAAO,aAAAL,MAAA,CAAaT,MAAM,CAACU,EAAE,EAAIG,KAAK,CAAC,CACtD,CACF,CAAC,CAED,KAAM,CAAAE,kBAAkB,CAAGA,CAAA,GAAM,CAC/B,GAAIb,QAAQ,CAAE,CACZD,cAAc,CAACD,MAAM,CAACU,EAAE,CAAER,QAAQ,CAAC,CAAE;AACrCG,UAAU,CAAC,IAAI,CAAC,CAChBE,YAAY,CAACO,OAAO,UAAAL,MAAA,CAAUT,MAAM,CAACU,EAAE,EAAI,MAAM,CAAC,CAAE;AACtD,CAAC,IAAM,CACLM,KAAK,CAAC,wCAAwC,CAAC,CACjD,CACF,CAAC,CAED,mBACEpB,KAAA,QAAKqB,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BxB,IAAA,OAAAwB,QAAA,CAAKlB,MAAM,CAACmB,WAAW,CAAK,CAAC,cAC7BzB,IAAA,MAAAwB,QAAA,CAAIlB,MAAM,CAACoB,YAAY,CAAI,CAAC,CAE3B,CAAChB,OAAO,eAAIV,IAAA,CAACF,gBAAgB,EAAC6B,QAAQ,CAAEnB,QAAS,CAACoB,QAAQ,CAAEV,oBAAqB,CAAE,CAAC,CACpFR,OAAO,eAAIR,KAAA,MAAAsB,QAAA,EAAG,uEAAc,CAACrB,QAAQ,CAACK,QAAQ,CAAC,EAAI,CAAC,CAEpD,CAACE,OAAO,eACPV,IAAA,WAAQuB,SAAS,CAAC,gBAAgB,CAACM,OAAO,CAAER,kBAAmB,CAACS,QAAQ,CAAE,CAACtB,QAAS,CAAAgB,QAAA,CAAC,oEAErF,CAAQ,CACT,EACE,CAAC,CAEV,CAAC,CAED,cAAe,CAAApB,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}